<h1>Modifier l'évènement</h1>
<%# INFOS EVENT %>
<!--FORM -->
<div class="backgd-card" >
  <div class="backgd-card-haute backgd-card-padding-top" >

    <!--NAME -->
    <%= simple_form_for @event do |f| %>
      <div class= "form-group event-name">
        <% frame_event_name = dom_id(@event, "name_event_frame " ) %>
        <%= turbo_frame_tag frame_event_name do %>
          <%= f.input :name, label: "Nom de l'événement", required: true, class: "form-control" %>
          <%= link_to "Annuler", @event %>
          <%= f.button :submit, "Mettre à jour", class: "btn-event-forms" %>
      <% end %>
      </div>


      <!--DATE -->
      <div class= "form-group event-date">
        <% date_event_frame = dom_id(@event, "date_event_frame " ) %>
        <%= turbo_frame_tag date_event_frame, class: "edit" do %>
          <%= f.input :date, as: :string,
                      wrapper_html: { class: "mb-4" },
                      label_html: { class: "form-label" },
                      input_html: { data: { controller: "flatpickr" } } %>
          <%= link_to "Annuler", @event %>
          <%= f.button :submit, "Mettre à jour", class: "btn-event-forms" %>
        <% end %>
      </div>

      <!--VENUE -->
      <div class="search-form-control-cust form-group event-venue">
        <% venue_event_frame = dom_id(@event, "venue_event_frame " ) %>
        <%= turbo_frame_tag venue_event_frame, class: "edit" do %>
          <%= f.input :venue, as: :select, collection: @venues, selected: @event.venue.id %>
          <%= link_to "Annuler", @event %>
          <%= f.button :submit, "Mettre à jour", class: "btn-event-forms" %>
        <% end %>
      </div>


      <!--TAG-->
      <div class="search-form-control-cust form-group event-tag">
        <%= f.simple_fields_for :tags do |tag_form| %>
          <% tag_event_frame = dom_id(@tag, "tag_event_frame " ) %>
          <%= turbo_frame_tag tag_event_frame, class: "edit" do %>
            <%=  tag_form.input :subcategory,
                as: :check_boxes,
                legend_tag: false,
                collection_wrapper_tag: 'div',
                collection_wrapper_class: 'subcategory-wrapper theatre',
                item_wrapper_class: 'subcategory-item theatre',
                input_html: {class: 'subcategory-selector theatre'},
                collection: Subcategory::SUBCAT_THEATRE %>
            <%=  tag_form.input :subcategory,
                as: :check_boxes,
                legend_tag: false,
                collection_wrapper_tag: 'div',
                collection_wrapper_class: 'subcategory-wrapper musique',
                item_wrapper_class: 'subcategory-item musique',
                input_html: {class: 'subcategory-selector musique'},
                collection: Subcategory::SUBCAT_MUSIQUE %>
            <%= link_to "Annuler", @event %>
            <%= tag_form.button :submit, "Mettre à jour", class: "btn-event-forms" %>
          <% end %>
        <% end %>
      </div>

      <!--DESCRIPTION -->
      <div class= "form-group event-desc">
        <% frame_event_desc = dom_id(@event, "frame_event_desc " ) %>
          <%= turbo_frame_tag frame_event_desc, class: "edit" do %>
            <%= f.input :description, label: "Description", class: "form-control" %>
            <%= link_to "Annuler", @event %>
            <%= f.button :submit, "Mettre à jour", class: "btn-event-forms" %>
          <% end %>
      </div>


      <!--PHOTO -->
      <div class= "form-group event-pic">
        <label for="event_photo" class="input-file-label">
          <i class="fa fa-2x fa-camera"></i><br>
          Télécharger une image...
        </label>
        <%= f.input :photo,
                    as: :file,
                    label_html: { class: "input-file" },
                    input_html: { class: 'input-file' } %>
      </div>

      <!--SUBMIT -->
      <div class= "form-group">
        <%= f.button :submit, "Enregistrer", class: "btn-event-forms" %>
      </div>
    <% end %>
  </div>
</div>
